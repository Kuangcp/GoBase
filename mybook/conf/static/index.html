<html lang="en">

<head>
    <title>Myth Bookkeeping</title>
    <meta charset="UTF-8">
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/layer/layer.js"></script>

    <script src="js/main.js"></script>
    <script src="js/customLib.js"></script>
    <script src="js/categoryTab.js"></script>
    <script src="js/recordTab.js"></script>
    <script src="js/accountBalanceTab.js"></script>

    <link rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="css/numPad.css">
    <script src="js/numKeyBoard.js"></script>
</head>
<body>

<!--记录账单-->
<form id="recordForm" action="javascript:createRecord()">
    <div id="accountBlock" style="float: left; padding-right: 40px;">
        <label class="label">操作账户</label>
        <div id="accountArea"></div>
    </div>

    <div style="display: none; float:left;" id="targetAccountBlock">
        <label class="label">转账目标账户</label>
        <div id="targetAccountArea"></div>
    </div>

    <div style="clear: both"></div>
    <hr>

    <label class="label">帐目类型: </label>
    <span id="typeArea"></span>

    <label class="label"> 金额 : </label>
    <input type="number" id="amount" name="amount" min="1" required style="width: 90px;"/>

    <label class="label"> 日期 : </label>
    <input type="date" name="date" required>
    <label class="label"> 备注 : </label>
    <input name="comment" style="width: 100px;"/>
    <button id="submitBtn" style="background: #1E9FFF;margin-left: 10px">Submit</button>
    <button id="recordBtn" type="button">账单</button>

    <div style="clear: both"></div>

    <hr>
    <div style="float: none">
        <span>帐单分类</span>
        <table id="categoryArea"></table>
    </div>
</form>

<!--明细数据 Tab-->
<script type="text/html" id="record_tab">
    <div>
        <span><button onclick="setDate('startDate', 'endDate', 7)">周</button></span>
        <span><button onclick="setDate('startDate', 'endDate', 30)">月</button></span>
    </div>

    <button onclick="setDate('startDate', 'endDate', 90)">季</button>
    <button onclick="setDate('startDate', 'endDate', 180)">半</button>

    <input type="date" id="startDate"/>
    <label class="label"> >>> </label>
    <input type="date" id="endDate"/>
    <select id="typeId">
        <option>全部</option>
        <option value="1" selected>支出</option>
        <option value="2">收入</option>
        <option value="3">转出</option>
        <option value="4">转入</option>
    </select>
    <select id="accountTypeList">
        <option>全部</option>
    </select>
    <button id="queryRecordsBtn">查询</button>
    <span id="total"></span>

    <table id="record_table" class="record-table">
        <thead>
        <tr>
            <th>id</th>
            <th>账户</th>
            <th>类型</th>
            <th>明细类型</th>
            <th>金额</th>
            <th>备注</th>
            <th>时间</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</script>

<!--分类数据 Tab-->
<script type="text/html" id="category_tab">
    <div>
        <span><button onclick="setDate('startDateMonth', 'endDateMonth', 7)">周</button></span>
        <span><button onclick="setDate('startDateMonth', 'endDateMonth', 30)">月</button></span>
    </div>

    <button onclick="setDate('startDateMonth', 'endDateMonth', 90)">季</button>
    <button onclick="setDate('startDateMonth', 'endDateMonth', 180)">半</button>

    <input type="date" id="startDateMonth"/>
    <label class="label"> >>> </label>
    <input type="date" id="endDateMonth"/>

    <select id="typeIdMonth">
        <option value="">全部</option>
        <option value="1" selected>支出</option>
        <option value="2">收入</option>
        <option value="3">转出</option>
        <option value="4">转入</option>
    </select>

    <button id="queryMonthRecordsBtn">查询</button>
    <span id="categoryTotal"></span>

    <table id="category_tables" class="record-table">
        <thead>
        <tr>
            <th>id</th>
            <th>类型</th>
            <th>明细类型</th>
            <th>金额</th>
            <th>时间</th>
            <th>明细数据</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</script>

<script type="text/html" id="account_balance">
    <button id="calculateAccountBalanceBtn">计算余额</button>
    <span id="totalBalance"></span>

    <table id="account_balance_table" class="account-balance">
        <thead>
        <tr>
            <th>id</th>
            <th>账户</th>
            <th>初始金额</th>
            <th>余额</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</script>

<!--分类后明细数据 Pop-->
<script type="text/html" id="category_detail_tables">
    <table id="category_detail_table" class="record-table">
        <thead>
        <tr>
            <th>id</th>
            <th>账户</th>
            <th>类型</th>
            <th>明细类型</th>
            <th>金额</th>
            <th>备注</th>
            <th>时间</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</script>

<script type="text/html" id="category_week_detail_tables">
    <table id="category_week_detail_table_body" class="record-table">
        <thead>
        <tr>
            <th>开始时间</th>
            <th>结束时间</th>
            <th>金额</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</script>

<script>
    loadAccount(handleMainPageAccount);
    loadRecordType();

    $("#amount").on('click', numPanel);
    $("#recordBtn").on('click', recordPanel);
</script>

<div id="recordResult"></div>
</body>
</html>